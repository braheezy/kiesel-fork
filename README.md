# Kiesel

> âš¡ A JavaScript engine written in Zig

[![justforfunnoreally.dev badge](https://img.shields.io/badge/justforfunnoreally-dev-9ff)](https://justforfunnoreally.dev)
[![License](https://img.shields.io/badge/License-MIT-d63e97)](https://codeberg.org/kiesel-js/kiesel/src/branch/main/LICENSE)

<img src="https://kiesel.dev/kiesel.svg" height="200" alt="logo">

## What is this?

_Kiesel_ is a JavaScript engine written from scratch for the purpose of
[me](https://linus.dev) learning the
[Zig programming language](https://ziglang.org), with the eventual goal of full
support for the latest [ECMAScript](https://tc39.es/ecma262/) standard. It
features a custom bytecode VM and runtime, and uses
[bdwgc](https://github.com/ivmai/bdwgc) for garbage collected allocations.

A simple CLI/file interpreter is available but it also aims to be easily
embeddable into other projects.

The implementation style is similar to [LibJS](https://libjs.dev) (the JS engine
used in SerenityOS and the Ladybird browser which I also work on) in various
aspects, most notably the desire to stay very close to spec. Despite these
similarities and my involvement in both projects, Kiesel is not intended as a
successor to LibJS in any way :^)

Development is still at an early stage and the engine not actually useful at
this point. Pull requests and issues are disabled for the time being, if you
want to report a bug (not missing feature, most features are missing!), please
ping me directly.

## Build

Dependencies managed through [`build.zig.zon`](./build.zig.zon) will be
installed automatically when building for the first time, to fetch vendored
dependencies run:

```console
git submodule update --init --recursive
```

To build and run the Kiesel CLI:

```console
zig build run
```

NOTE: Kiesel targets the master branch of Zig. This means that the build breaks
semi-regularly, which I will usually fix as soon as I notice.

## Usage

```text
Usage: kiesel [options] [args]

Options:

  -c, --command             Run the given code as a script
  --disable-gc              Disable garbage collection
  --print-ast               Print the parsed AST
  --print-bytecode          Print the generated bytecode
  -p, --print-result        Print the evaluated result
  -v, --version             Print version information and exit
  -h, --help                Print help text and exit

Arguments:

  file                      The JS file to run, a REPL is started if omitted
```

## Links

- [Website](https://kiesel.dev)
- [Wasm-based online playground](https://kiesel.dev/playground)
- [Builds for the main branch](https://files.kiesel.dev) (Linux only)
- [test262 results](https://test262.fyi/#|kiesel)
